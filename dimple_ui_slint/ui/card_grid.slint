import { Button, VerticalBox , ScrollView} from "std-widgets.slint";
import { Card, CardModel } from "card.slint";
import { Palette, Navigator } from "common.slint";
import {StyleMetrics} from "std-widgets.slint";

export component CardGrid inherits VerticalLayout {
    in-out property <[CardModel]> cards;

    // property <int> cols: Math.floor((self.width - StyleMetrics.layout-padding) 
    //     / (Palette.thumbnail-width-large + StyleMetrics.layout-spacing));

    property <int> cols: 6;

    property <bool> last_row;

    spacing: StyleMetrics.layout-spacing;
    padding-right: StyleMetrics.layout-padding;
    alignment: start;
    for row in Math.ceil(cards.length / cols): HorizontalLayout {
        alignment: start;
        spacing: StyleMetrics.layout-spacing;
        for col in Math.min(cols, cards.length - Math.floor(cards.length / cols)): Card {
            model: cards[row * cols + col];
        }
    }
}
