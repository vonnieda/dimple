import { Button, VerticalBox , ScrollView} from "std-widgets.slint";
import { ImageLink, Link } from "./common.slint";

export struct CardModel {
    image: ImageLink,
    title: Link,
    // TODO eventually an array
    sub-title: Link,
}

export component Card inherits VerticalLayout {
    callback navigate(string);

    in property <CardModel> model: {
        image: {image: @image-url("../images/dark.png"),name: "A Reign of Fish",url: "internal://release/1234"},
        title: {name: "A Reign of Fish",url: "internal://release/1234"},
        sub-title: {name: "Fresh Pliers",url: "internal://artist/9876"},
    };

    width: 250px;
    spacing: 2px;
    alignment: start;

    image-area := TouchArea {
        width: root.width;
        height: 250px;
        mouse-cursor: pointer;
        clicked => { root.navigate(model.image.url); }
        Rectangle {
            width: 100%;
            height: 100%;
            border-radius: 5px;
            clip: true;
            Image {
                width: 100%;
                height: 100%;
                source: model.image.image;
                accessible-role: button;
                accessible-description: model.image.name;
            }    
        }
    }
    Rectangle {}
    title-area := TouchArea {
        mouse-cursor: pointer;
        clicked => { root.navigate(model.title.url); }
        title := Text {
            width: root.width;
            font-weight: 600;
            text: model.title.name;
            wrap: word-wrap;
        }
    }
    sub-title-area := TouchArea {
        mouse-cursor: pointer;
        clicked => { root.navigate(model.sub-title.url); }
        Text {
            width: root.width;
            text: model.sub-title.name;
            wrap: word-wrap;
        }
    }
}
