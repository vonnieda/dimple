import { Button, VerticalBox , ScrollView, TextEdit, LineEdit, GroupBox} from "std-widgets.slint";
import { CardGrid, CardGridAdapter } from "card_grid.slint";
import { Card, CardAdapter } from "card.slint";
import { PlayerBar } from "player_bar.slint";
import { NavBar } from "nav_bar.slint";
import { ArtistDetails, ArtistDetailsAdapter } from "artist_details.slint";
import { ReleaseGroupDetails, ReleaseGroupDetailsAdapter } from "release_group_details.slint";
import { Palette, Navigator, LinkAdapter, ImageLinkAdapter } from "common.slint";
import { StyleMetrics } from "std-widgets.slint";

// import "../fonts/Manrope/fonts/ttf/Manrope-Bold.ttf";
// import "../fonts/Manrope/fonts/ttf/Manrope-ExtraBold.ttf";
// import "../fonts/Manrope/fonts/ttf/Manrope-ExtraLight.ttf";
// import "../fonts/Manrope/fonts/ttf/Manrope-Light.ttf";
// import "../fonts/Manrope/fonts/ttf/Manrope-Medium.ttf";
// import "../fonts/Manrope/fonts/ttf/Manrope-Regular.ttf";
// import "../fonts/Manrope/fonts/ttf/Manrope-SemiBold.ttf";

import "../fonts/Roboto/Roboto-Black.ttf";
import "../fonts/Roboto/Roboto-BlackItalic.ttf";
import "../fonts/Roboto/Roboto-Bold.ttf";
import "../fonts/Roboto/Roboto-BoldItalic.ttf";
import "../fonts/Roboto/Roboto-Italic.ttf";
import "../fonts/Roboto/Roboto-Light.ttf";
import "../fonts/Roboto/Roboto-LightItalic.ttf";
import "../fonts/Roboto/Roboto-Medium.ttf";
import "../fonts/Roboto/Roboto-MediumItalic.ttf";
import "../fonts/Roboto/Roboto-Regular.ttf";
import "../fonts/Roboto/Roboto-Thin.ttf";
import "../fonts/Roboto/Roboto-ThinItalic.ttf";
import { ReleaseGroupDetails } from "release_group_details.slint";
import { ReleaseDetails, ReleaseDetailsModel } from "release_details.slint";
import { RecordingDetails, RecordingDetailsAdapter } from "recording_details.slint";

export { Navigator, LinkAdapter, ImageLinkAdapter, CardAdapter }

export component AppWindow inherits Window {
    in-out property <int> page: 1;
    // TODO Note to self: Currently you can't expose properties on
    // sub-components, so all this is needed.
    in-out property <CardGridAdapter> card-grid-adapter;
    in-out property <ArtistDetailsAdapter> artist-details;
    in-out property <ReleaseGroupDetailsAdapter> release-group-details;
    in-out property <ReleaseDetailsModel> release-details;
    in-out property <RecordingDetailsAdapter> recording-details;
    
    title: "Dimple";
    icon: @image-url("../images/icon_512x512.png");
    preferred-width: 1440px;
    preferred-height: 1024px;

    VerticalLayout {
        padding: StyleMetrics.layout-padding * 2;
        padding-top: 0px;
        GroupBox {
            vertical-stretch: 0;
            NavBar {  
                spacing: StyleMetrics.layout-spacing;
            }
        }
        if page == 0: GroupBox { 
            VerticalLayout {
                ScrollView {                        
                    card-grid := CardGrid {
                        cards: root.card-grid-adapter.cards;
                        parent-width: parent.width;
                    }
                }
                Text {
                    horizontal-alignment: right;
                    text: card-grid-adapter.cards.length + " items";
                }
            }
        }
        if page == 1: GroupBox {
            vertical-stretch: 1;
            ArtistDetails {  
                vertical-stretch: 1;
                model: root.artist-details;
            }                
        }
        if page == 2: GroupBox {
            vertical-stretch: 1;
            ReleaseGroupDetails {  
                vertical-stretch: 1;
                model: root.release-group-details;
            }                
        }
        if page == 3: GroupBox {
            vertical-stretch: 1;
            ReleaseDetails {  
                vertical-stretch: 1;
                model: root.release-details;
            }                
        }
        if page == 4: GroupBox {
            vertical-stretch: 1;
            RecordingDetails {  
                vertical-stretch: 1;
                model: root.recording-details;
            }                
        }
        GroupBox {
            vertical-stretch: 0;
            PlayerBar { 
            }
        }
    }
}
